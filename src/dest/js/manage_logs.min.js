"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}layui.use(["table","element","layer","util","form"],function(){var e,a=layui.table,o=(layui.element,layui.layer),t=layui.util,r=layui.form,i={netErrMsg:"系统已退出登录，请登录系统重试",operatorErrMsg:{single:"请选择一条数据操作",batch:"请至少选择一条数据操作"}};function n(e){var t,r;return s({where:(t=$("#logsSearchForm").serializeArray(),r={},$.each(t,function(e,t){r[t.name]=t.value}),r),page:{curr:1,limit:10}}),!1}function l(e){var r=a.checkStatus("logsScoreTable").data,n=e.data.type,t=0===n?"确定禁用吗？":"确定启用吗？";return 1===r.length?o.confirm(t,{title:"询问框",btn:["确定","取消"]},function(e,t){$.ajax({url:"/api/toggleLogsScore",type:"POST",data:{id:r[0].id,status:n},success:function(e,t,r){o.msg(e.success?"操作成功":"操作失败"+e.message),s()},error:function(e,t,r){o.msg(i.netErrMsg)}})}):o.msg(i.operatorErrMsg.single),!1}function s(e){a.reload("logsScoreTable",e)}r.render("select"),a.render((_defineProperty(e={elem:"#logsScoreTable",url:"/api/readLogsScorePage",page:!0,cols:[[{checkbox:!0},{title:"操作用户",field:"userName"},{title:"类型",field:"",templet:function(e){return 1===e.type?"充值":"扣减"}},{title:"数量",field:"count"},{title:"创建时间",field:"createdDate",templet:function(e){return t.toDateString(e.createdDate,"yyyy-MM-dd HH:mm")}},{title:"状态",field:"status",styles:{width:56},templet:function(e){return 1===e.status?"启用":"停用"}}]],limits:[10,20,50,100]},"page",{theme:"#1E9FFF",layout:["prev","page","next","skip","count","limit"]}),_defineProperty(e,"request",{pageName:"offset"}),_defineProperty(e,"response",{statusCode:!0}),_defineProperty(e,"parseData",function(e){return{code:e.success,msg:e.msg,count:e.data.total,data:e.data.rows}}),_defineProperty(e,"done",function(e){var t,r;t=e.data.length,r=e.count,$("#currentLogsScoreMountSpan").text(t),$("#logsScoreMountSpan").text(r)}),e)),$("#searchBtn").on("click",n),$("#resetBtn").on("click",function(){return $("#logsSearchForm")[0].reset(),!1}),$("#disabledLogsScoreBtn").on("click",{type:0},l),$("#enabledLogsScoreBtn").on("click",{type:1},l)});