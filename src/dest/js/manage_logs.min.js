"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}layui.use(["table","element","layer","util","form"],function(){var e,a=layui.table,i=(layui.element,layui.layer),t=layui.util,r=layui.form,l={netErrMsg:"系统已退出登录，请登录系统重试",operatorErrMsg:{single:"请选择一条数据操作",batch:"请至少选择一条数据操作"},addStatus:[1,3,4,5,8]};function n(e){var t,r;return s({where:(t=$("#logsSearchForm").serializeArray(),r={},$.each(t,function(e,t){r[t.name]=t.value}),r),page:{curr:1,limit:10}}),!1}function o(e){var r=a.checkStatus("logsScoreTable").data,n=e.data.type,t=0===n?"确定禁用吗？":"确定启用吗？";return 1===r.length?i.confirm(t,{title:"询问框",btn:["确定","取消"]},function(e,t){$.ajax({url:"/api/toggleLogsScore",type:"POST",data:{id:r[0].id,status:n},success:function(e,t,r){i.msg(e.success?"操作成功":"操作失败"+e.message),s()},error:function(e,t,r){i.msg(l.netErrMsg)}})}):i.msg(l.operatorErrMsg.single),!1}function s(e){a.reload("logsScoreTable",e)}r.render("select"),a.render((_defineProperty(e={elem:"#logsScoreTable",url:"/api/readLogsScorePage",page:!0,cols:[[{checkbox:!0},{field:"",title:"序号",width:60,templet:function(e){return e.LAY_INDEX}},{title:"操作用户",field:"userName"},{title:"订单号",field:"orderNumber",width:250},{title:"类型",field:"",templet:function(e){return["","在线充值","流量订单消费","流量订单退款","充值赠送","推广佣金","账号升级消费","空包订单消费","空包订单退款"][e.type]}},{title:"金额（元）",field:"count",templet:function(e){return(-1===l.addStatus.indexOf(e.type)?'<span class="layui-text-green"> - </span>':'<span class="layui-text-pink"> + </span>')+core.fenToYuan(e.count)}},{title:"余额（元）",field:"balance",templet:function(e){return core.fenToYuan(e.balance)}},{title:"创建时间",field:"createdDate",templet:function(e){return t.toDateString(e.createdDate,"yyyy-MM-dd HH:mm:ss")}},{title:"状态",field:"status",styles:{width:56},templet:function(e){return 1===e.status?"启用":"停用"}}]],limits:[10,20,50,100]},"page",{theme:"#1E9FFF",layout:["prev","page","next","skip","count","limit"]}),_defineProperty(e,"request",{pageName:"offset"}),_defineProperty(e,"response",{statusCode:!0}),_defineProperty(e,"parseData",function(e){return{code:e.success,msg:e.msg,count:e.data.total,data:e.data.rows}}),_defineProperty(e,"done",function(e){}),e)),$("#searchBtn").on("click",n),$("#resetBtn").on("click",function(){return $("#logsSearchForm")[0].reset(),!1}),$("#disabledLogsScoreBtn").on("click",{type:0},o),$("#enabledLogsScoreBtn").on("click",{type:1},o),$(".layui-anim-upbit").css("max-height",240)});